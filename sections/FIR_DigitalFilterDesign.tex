\section{FIR Digital Filter Design\buch{Chapter 10}}

\subsection{Windowing Methods}
\subsubsection{Ideal Filters}
Ideal frequency responses (Fig. \ref{fig:freqresp}) are transformed into infinite impulse responses $d(k)$ (eq: \ref{eq:impresp}), which are then made finite using a particular window.

\begin{figure}[htp]
\begin{subfigure}{0.49\textwidth}
\centering
\newcommand{\coordinates}{coordinates {
(-3.14,1) (-1.569,1) (-1.571,0)
( 1.571,0) (1.569,1) ( 3.14,1)
};}
\input{tikz/hplp.tex}
\caption{Highpass}
\end{subfigure}
\begin{subfigure}{0.49\textwidth}
\centering
\newcommand{\coordinates}{coordinates {(-3.14,0) (-1.569,0) (-1.571,1) (1.571,1) (1.569,0) (3.14,0)};}
\input{tikz/hplp.tex}
\caption{Lowpass}
\end{subfigure}

\begin{subfigure}{0.49\textwidth}
\centering
\newcommand{\coordinates}{coordinates {
(-3.14,1) (-2.001,1) (-1.999,0) (-1.001,0) (-0.999,1)
(0.999,1) ( 1.001,0) ( 1.999,0) ( 2.001,1) ( 3.14,1)};}
\input{tikz/bpbs.tex}
\caption{Bandpass}
\end{subfigure}
\begin{subfigure}{0.49\textwidth}
\centering
\newcommand{\coordinates}{coordinates {
(-3.14,0) (-2.001,0) (-1.999,1) (-1.001,1) (-0.999,0)
(0.999,0) (1.001,1) (1.999,1) (2.001,0) ( 3.14,0)};}
\input{tikz/bpbs.tex}
\caption{Bandstop}
\end{subfigure}

\begin{subfigure}{0.49\textwidth}
\centering
\newcommand{\coordinates}{coordinates {(-3.14,-1) (3.14,1)};}
\input{tikz/diffhilb.tex}
\caption{Differentiator}
\end{subfigure}
\begin{subfigure}{0.49\textwidth}
\centering
\newcommand{\coordinates}{coordinates {(-3.14,1) (-0.001,1) (0.001,-1) (3.14,-1) };}
\input{tikz/diffhilb.tex}
\caption{Hilbert transformer}
\end{subfigure}

\caption{Ideal frequency responses}
\label{fig:freqresp}
\end{figure}


\begin{equation}
d(k) = \int_{-\pi}^{\pi}D(\omega) e^{j\omega k}\frac{d\omega}{2\pi} \label{eq:impresp}
\end{equation}

\begin{align*}
&\text{lowpass filter} && d(k) = \frac{sin(\omega_ck)}{\pi k} \\
&\text{highpass filter} && d(k) = \delta(k) - \frac{sin(\omega_ck)}{\pi k} \\
&\text{bandpass filter} && d(k) = \frac{sin(\omega_bk) -sin(\omega_ak)}{\pi k} \\
&\text{bandstop filter} && d(k) = \delta(k) - \frac{sin(\omega_bk) -sin(\omega_ak)}{\pi k} \\
\end{align*}

\subsubsection{Rectangular Window}
\begin{itemize}
	\item Simplest window
	\item truncate the infinite impulse response: $-M < k < M$
	\item $\rightarrow d = [d_{-M}, ..., d_{-1}, d_0, d_1, ..., d_M]$
	\item The resulting FIR Filter must be delayed by M samples \newline
	$\rightarrow h = d = [h_0, h_{M-1}, h_M, h_{M+1}, ..., h_{2M}]$
\end{itemize}


\subsubsection{Hamming Window}
\begin{itemize}
	\item Improved passband and stopband ripple suppression at the cost of a wider transition width.
	\item Hamming window impulse response:
	\begin{align*}
		w(n) = 0.54 -0.46cos\left(\frac{2\pi n}{N-1}\right),&&n= 0,1,\dots,N-1
	\end{align*}
	\item Filter impuls response:
	\begin{align*}
		h(n) = w(n)d(n-M),&&-\infty < n < \infty
	\end{align*}
	\item e.g. lowpass filter
	\begin{align*}
		h(n) = \left[0.54 -0.46cos\left(\frac{2\pi n}{N-1}\right)\right]\cdot\frac{sin(\omega_c(n-M))}{\pi (n-M)}
	\end{align*}
	
\end{itemize}


\subsubsection{Kaiser Window}
\begin{align*}
	\alpha = \left\{
		\begin{array}{l l}
			0.1102(A-8.7)& \quad \text{if } A \geq 50\\
			0.5842(A-21)^{0.4}+0.07886(A-21) & \quad \text{if }21 < A < 50\\
			0 & \quad \text{if } A \leq 21
		\end{array} \right.
\end{align*}
\subsubsection{Kaiser Window for Filter Design}


\paragraph{Regeln:}~\\
pass und stopp Band sind identisch, sind sie unterschiedlich vorgegeben muss die härtere Bedingung verwendet werden \\
\begin{align*}
\delta=min(\delta_{pass},\delta_{stop})
\end{align*}
schlussendlich wird der Filter in beiden Bändern die gleiche Überschreitung haben
\begin{align*}
A=-20log_{10}\delta && \delta=10^{-A/20}
\end{align*}
Das Stopp band hat meistens die strengeren Anforderungen
\subsubsection{Kaiser Window for Spectral Analysis}

\subsection{Frequency Sampling Method}

\subsection{Other FIR Design Methods}

